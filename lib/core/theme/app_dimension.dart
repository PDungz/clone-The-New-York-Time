import 'package:flutter/material.dart';

class AppDimensions {
  AppDimensions._();
  
  // Base dimensions (fixed values)
  static const double space0 = 0.0;
  static const double space2 = 2.0;
  static const double space4 = 4.0;
  static const double space8 = 8.0;
  static const double space12 = 12.0;
  static const double space16 = 16.0;
  static const double space20 = 20.0;
  static const double space24 = 24.0;
  static const double space32 = 32.0;
  static const double space40 = 40.0;
  static const double space48 = 48.0;
  static const double space56 = 56.0;
  static const double space64 = 64.0;
  static const double space72 = 72.0;
  static const double space80 = 80.0;

  // INSETS - Padding và Margin
  static const double inset0 = 0.0;
  static const double inset2 = 2.0;
  static const double inset4 = 4.0;
  static const double inset8 = 8.0;
  static const double inset12 = 12.0;
  static const double inset16 = 16.0;
  static const double inset20 = 20.0;
  static const double inset24 = 24.0;
  static const double inset32 = 32.0;
  static const double inset40 = 40.0;
  static const double inset48 = 48.0;
  static const double inset56 = 56.0;
  static const double inset64 = 64.0;

  // BORDER RADIUS - Bo góc
  static const double radius2 = 2.0;
  static const double radius4 = 4.0;
  static const double radius8 = 8.0;
  static const double radius12 = 12.0;
  static const double radius16 = 16.0;
  static const double radius20 = 20.0;
  static const double radius24 = 24.0;
  static const double radius28 = 28.0;
  static const double radius32 = 32.0;
  static const double radiusCircular = 999.0;

  // BORDER WIDTH - Độ dày viền
  static const double border0_5 = 0.5;
  static const double border1 = 1.0;
  static const double border1_5 = 1.5;
  static const double border2 = 2.0;
  static const double border3 = 3.0;
  static const double border4 = 4.0;

  // ICON SIZES - Kích thước icon
  static const double icon12 = 12.0;
  static const double icon16 = 16.0;
  static const double icon18 = 18.0;
  static const double icon20 = 20.0;
  static const double icon24 = 24.0;
  static const double icon28 = 28.0;
  static const double icon32 = 32.0;
  static const double icon36 = 36.0;
  static const double icon40 = 40.0;
  static const double icon48 = 48.0;
  static const double icon56 = 56.0;
  static const double icon64 = 64.0;

  // LINE HEIGHT - Chiều cao dòng
  static const double lineHeight1_2 = 1.2;
  static const double lineHeight1_5 = 1.5;
  static const double lineHeight1_8 = 1.8;

  // FONT SIZES - Kích thước chữ
  static const double font10 = 10.0;
  static const double font12 = 12.0;
  static const double font14 = 14.0;
  static const double font16 = 16.0;
  static const double font18 = 18.0;
  static const double font20 = 20.0;
  static const double font22 = 22.0;
  static const double font24 = 24.0;
  static const double font28 = 28.0;
  static const double font32 = 32.0;
  static const double font36 = 36.0;
  static const double font40 = 40.0;
  static const double font42 = 42.0;
  static const double font48 = 48.0;
  static const double font56 = 56.0;

  // BUTTON SIZES - Kích thước nút
  static const double buttonHeight32 = 32.0;
  static const double buttonHeight36 = 36.0;
  static const double buttonHeight40 = 40.0;
  static const double buttonHeight44 = 44.0;
  static const double buttonHeight48 = 48.0;
  static const double buttonHeight52 = 52.0;
  static const double buttonHeight56 = 56.0;
  static const double buttonHeight64 = 64.0;

  // INPUT FIELD SIZES - Kích thước trường nhập liệu
  static const double inputHeight32 = 32.0;
  static const double inputHeight40 = 40.0;
  static const double inputHeight48 = 48.0;
  static const double inputHeight52 = 52.0;
  static const double inputHeight56 = 56.0;
  static const double inputHeight64 = 64.0;

  // COMPONENT SIZES - Kích thước component
  static const double appBarHeight56 = 56.0;
  static const double tabBarHeight48 = 48.0;
  static const double toolbarHeight64 = 64.0;
  static const double bottomNavHeight80 = 80.0;

  // CARD ELEVATION - Độ nổi của card
  static const double elevation0 = 0.0;
  static const double elevation1 = 1.0;
  static const double elevation2 = 2.0;
  static const double elevation4 = 4.0;
  static const double elevation6 = 6.0;
  static const double elevation8 = 8.0;
  static const double elevation12 = 12.0;
  static const double elevation16 = 16.0;
  static const double elevation24 = 24.0;

  // DIVIDER - Độ dày của divider
  static const double divider0_5 = 0.5;
  static const double divider1 = 1.0;
  static const double divider2 = 2.0;

  // OPACITY - Độ mờ
  static const double opacity10 = 0.1;
  static const double opacity20 = 0.2;
  static const double opacity30 = 0.3;
  static const double opacity40 = 0.4;
  static const double opacity50 = 0.5;
  static const double opacity60 = 0.6;
  static const double opacity70 = 0.7;
  static const double opacity80 = 0.8;
  static const double opacity90 = 0.9;

  // LINE HEIGHT - Chiều cao dòng
  static const double lineHeight100 = 1.0; // Sát khít
  static const double lineHeight125 = 1.25; // Chật
  static const double lineHeight150 = 1.5; // Tiêu chuẩn
  static const double lineHeight175 = 1.75; // Thoáng
  static const double lineHeight200 = 2.0; // Rộng rãi

  // AVATAR SIZES - Kích thước avatar
  static const double avatar24 = 24.0;
  static const double avatar32 = 32.0;
  static const double avatar40 = 40.0;
  static const double avatar48 = 48.0;
  static const double avatar56 = 56.0;
  static const double avatar64 = 64.0;
  static const double avatar80 = 80.0;
  static const double avatar96 = 96.0;
  static const double avatar128 = 128.0;

  // IMAGE SIZES - Kích thước ảnh
  static const double imageThumb48 = 48.0;
  static const double imageThumb64 = 64.0;
  static const double imageThumb80 = 80.0;
  static const double imageThumb96 = 96.0;
  static const double imageThumb120 = 120.0;
  static const double imagePreview240 = 240.0;
}

/// Screen percentage based dimensions
class ScreenDimensions {
  ScreenDimensions._();

  /// Lấy chiều rộng theo phần trăm màn hình
  /// [percentage] từ 0.0 đến 1.0 (0% đến 100%)
  static double widthPercent(BuildContext context, double percentage) {
    return MediaQuery.of(context).size.width * percentage;
  }

  /// Lấy chiều cao theo phần trăm màn hình
  /// [percentage] từ 0.0 đến 1.0 (0% đến 100%)
  static double heightPercent(BuildContext context, double percentage) {
    return MediaQuery.of(context).size.height * percentage;
  }

  /// Lấy kích thước nhỏ hơn giữa width% và height%
  static double minPercent(BuildContext context, double percentage) {
    final size = MediaQuery.of(context).size;
    final minSize = size.width < size.height ? size.width : size.height;
    return minSize * percentage;
  }

  /// Lấy kích thước lớn hơn giữa width% và height%
  static double maxPercent(BuildContext context, double percentage) {
    final size = MediaQuery.of(context).size;
    final maxSize = size.width > size.height ? size.width : size.height;
    return maxSize * percentage;
  }

  /// Lấy font size theo phần trăm chiều rộng màn hình
  static double fontSizePercent(BuildContext context, double percentage) {
    return MediaQuery.of(context).size.width * percentage;
  }

  /// Lấy padding theo phần trăm
  static EdgeInsets paddingPercent(
    BuildContext context, {
    double? all,
    double? horizontal,
    double? vertical,
    double? top,
    double? bottom,
    double? left,
    double? right,
  }) {
    final screenWidth = MediaQuery.of(context).size.width;
    final screenHeight = MediaQuery.of(context).size.height;

    if (all != null) {
      final value = screenWidth * all;
      return EdgeInsets.all(value);
    }

    return EdgeInsets.only(
      top:
          top != null
              ? screenHeight * top
              : vertical != null
              ? screenHeight * vertical
              : 0,
      bottom:
          bottom != null
              ? screenHeight * bottom
              : vertical != null
              ? screenHeight * vertical
              : 0,
      left:
          left != null
              ? screenWidth * left
              : horizontal != null
              ? screenWidth * horizontal
              : 0,
      right:
          right != null
              ? screenWidth * right
              : horizontal != null
              ? screenWidth * horizontal
              : 0,
    );
  }

  /// Lấy margin theo phần trăm
  static EdgeInsets marginPercent(
    BuildContext context, {
    double? all,
    double? horizontal,
    double? vertical,
    double? top,
    double? bottom,
    double? left,
    double? right,
  }) {
    return paddingPercent(
      context,
      all: all,
      horizontal: horizontal,
      vertical: vertical,
      top: top,
      bottom: bottom,
      left: left,
      right: right,
    );
  }

  /// Lấy border radius theo phần trăm chiều rộng
  static double radiusPercent(BuildContext context, double percentage) {
    return MediaQuery.of(context).size.width * percentage;
  }

  /// Thông tin màn hình
  static Size screenSize(BuildContext context) {
    return MediaQuery.of(context).size;
  }

  /// Chiều rộng màn hình
  static double screenWidth(BuildContext context) {
    return MediaQuery.of(context).size.width;
  }

  /// Chiều cao màn hình
  static double screenHeight(BuildContext context) {
    return MediaQuery.of(context).size.height;
  }

  /// Chiều cao phần có thể sử dụng (trừ status bar, keyboard...)
  static double usableHeight(BuildContext context) {
    final mediaQuery = MediaQuery.of(context);
    return mediaQuery.size.height -
        mediaQuery.padding.top -
        mediaQuery.padding.bottom -
        mediaQuery.viewInsets.bottom;
  }

  /// Status bar height
  static double statusBarHeight(BuildContext context) {
    return MediaQuery.of(context).padding.top;
  }

  /// Bottom safe area height
  static double bottomSafeHeight(BuildContext context) {
    return MediaQuery.of(context).padding.bottom;
  }

  /// Keyboard height
  static double keyboardHeight(BuildContext context) {
    return MediaQuery.of(context).viewInsets.bottom;
  }
}

/// Extension để sử dụng screen percentage dễ dàng hơn
extension ScreenPercentExtension on num {
  /// Width percentage: 0.5.wp(context) = 50% width
  double wp(BuildContext context) => ScreenDimensions.widthPercent(context, toDouble());

  /// Height percentage: 0.3.hp(context) = 30% height
  double hp(BuildContext context) => ScreenDimensions.heightPercent(context, toDouble());

  /// Min size percentage: 0.1.mp(context) = 10% of smaller dimension
  double mp(BuildContext context) => ScreenDimensions.minPercent(context, toDouble());

  /// Max size percentage: 0.1.maxp(context) = 10% of larger dimension
  double maxp(BuildContext context) => ScreenDimensions.maxPercent(context, toDouble());

  /// Font size percentage: 0.04.fp(context) = 4% of screen width
  double fp(BuildContext context) => ScreenDimensions.fontSizePercent(context, toDouble());

  /// Radius percentage: 0.02.rp(context) = 2% of screen width
  double rp(BuildContext context) => ScreenDimensions.radiusPercent(context, toDouble());
}

/// Preset screen percentages cho các use case thường dùng
class ScreenPresets {
  ScreenPresets._();

  // Width percentages
  static const double fullWidth = 1.0; // 100%
  static const double mostWidth = 0.9; // 90%
  static const double halfWidth = 0.5; // 50%
  static const double quarterWidth = 0.25; // 25%
  static const double thirdWidth = 0.33; // 33%
  static const double twoThirdWidth = 0.67; // 67%

  // Height percentages
  static const double fullHeight = 1.0; // 100%
  static const double mostHeight = 0.9; // 90%
  static const double halfHeight = 0.5; // 50%
  static const double quarterHeight = 0.25; // 25%
  static const double thirdHeight = 0.33; // 33%
  static const double twoThirdHeight = 0.67; // 67%

  // Font size percentages (based on screen width)
  static const double titleFont = 0.08; // 8% of screen width
  static const double headingFont = 0.06; // 6% of screen width
  static const double bodyFont = 0.04; // 4% of screen width
  static const double captionFont = 0.03; // 3% of screen width
  static const double smallFont = 0.025; // 2.5% of screen width

  // Padding percentages
  static const double largePadding = 0.05; // 5%
  static const double mediumPadding = 0.03; // 3%
  static const double smallPadding = 0.02; // 2%
  static const double tinyPadding = 0.01; // 1%

  // Common widget heights (as percentage of screen height)
  static const double buttonHeight = 0.07; // 7% of screen height
  static const double textFieldHeight = 0.06; // 6% of screen height
  static const double appBarHeight = 0.08; // 8% of screen height
  static const double cardHeight = 0.2; // 20% of screen height
  static const double listItemHeight = 0.1; // 10% of screen height
}

/// Animation presets for consistent timing across the app.
class AppAnimationPresets {
  AppAnimationPresets._();
  static const Duration duration150 = Duration(milliseconds: 150);
  static const Duration duration300 = Duration(milliseconds: 300);
  static const Duration duration500 = Duration(milliseconds: 500);
  static const Duration duration800 = Duration(milliseconds: 800);

  static const Curve curveEaseInOut = Curves.easeInOut;
  static const Curve curveEaseOut = Curves.easeOut;
}
